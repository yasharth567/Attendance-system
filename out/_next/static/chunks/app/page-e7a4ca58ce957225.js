(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8786:function(e,t,s){Promise.resolve().then(s.bind(s,2498))},2498:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var a=s(7437),r=s(2265),n=s(1232),l=s(5253),i=s(8227),o=s(6573),d=s(4235),c=s(39),m=s(6812),x=s(9223),h=s(4909),g=s(1346),u=s(7703),p=s(8485),b=s(6612);function y(){let[e,t]=(0,r.useState)([{id:1,name:"James Wilson",employeeId:"ATT-004",department:"Engineering",joinDate:"2024-01-20",status:"pending",avatar:"https://readdy.ai/api/search-image?query=professional%20young%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20new%20hire&width=50&height=50&seq=new1&orientation=squarish",phone:"+1-234-567-8901",email:"james.wilson@company.com"},{id:2,name:"Maria Garcia",employeeId:"ATT-005",department:"Marketing",joinDate:"2024-01-19",status:"pending",avatar:"https://readdy.ai/api/search-image?query=professional%20hispanic%20female%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20new%20hire&width=50&height=50&seq=new2&orientation=squarish",phone:"+1-234-567-8902",email:"maria.garcia@company.com"},{id:3,name:"David Kumar",employeeId:"ATT-006",department:"Sales",joinDate:"2024-01-18",status:"pending",avatar:"https://readdy.ai/api/search-image?query=professional%20indian%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20new%20hire&width=50&height=50&seq=new3&orientation=squarish",phone:"+1-234-567-8903",email:"david.kumar@company.com"},{id:4,name:"Emily Johnson",employeeId:"ATT-007",department:"HR",joinDate:"2024-01-17",status:"enrolled",avatar:"https://readdy.ai/api/search-image?query=professional%20blonde%20female%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20new%20hire&width=50&height=50&seq=new4&orientation=squarish",phone:"+1-234-567-8904",email:"emily.johnson@company.com"}]),[s,n]=(0,r.useState)(null),[l,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=localStorage.getItem("attendeye-enrolled-users");e&&d(JSON.parse(e))},[]);let c=()=>{let t=[...o.map(e=>parseInt(e.employeeId.replace("".concat("ATT","-"),""))||0),...e.map(e=>parseInt(e.employeeId.replace("".concat("ATT","-"),""))||0)];return"".concat("ATT","-").concat(String(Math.max(...t,0)+1).padStart(3,"0"))},m=(s,a)=>{let r=e.find(e=>e.id===s);if(r&&"enrolled"===a){let e=[{id:Date.now(),name:r.name,employeeId:r.employeeId,department:r.department,email:r.email,phone:r.phone,enrolledDate:new Date().toISOString().split("T")[0],avatar:r.avatar,faceData:[]},...o];d(e),localStorage.setItem("attendeye-enrolled-users",JSON.stringify(e))}t(e=>e.map(e=>e.id===s?{...e,status:a}:e)),i(!1),n(null),"enrolled"===a&&alert("".concat(null==r?void 0:r.name," has been successfully enrolled! They can now use the attendance system."))},x=()=>{let e={id:Date.now(),name:"New Employee",employeeId:c(),department:"Unassigned",joinDate:new Date().toISOString().split("T")[0],status:"pending",avatar:"https://readdy.ai/api/search-image?query=professional%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20new%20hire%20diverse%20person&width=50&height=50&seq=newnew&orientation=squarish",phone:"+1-000-000-0000",email:"new.employee@company.com"};t(t=>[e,...t])},h=e.filter(e=>"pending"===e.status).length,g=e.filter(e=>"enrolled"===e.status).length,u=e.filter(e=>"rejected"===e.status).length;return(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-1",children:"New Employee Enrollments"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Manage face recognition setup for new hires"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"bg-yellow-500/20 text-yellow-400 px-3 py-1 rounded-full text-sm font-medium",children:[h," Pending"]}),(0,a.jsxs)("div",{className:"bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm font-medium",children:[g," Enrolled"]}),u>0&&(0,a.jsxs)("div",{className:"bg-red-500/20 text-red-400 px-3 py-1 rounded-full text-sm font-medium",children:[u," Rejected"]})]}),(0,a.jsxs)("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer whitespace-nowrap text-sm font-medium",children:[(0,a.jsx)("i",{className:"ri-add-line mr-2"}),"Add Employee"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.map(e=>(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full object-cover object-top border-2 border-gray-600"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:e.name}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.employeeId," • ",e.department]}),(0,a.jsxs)("p",{className:"text-gray-500 text-xs",children:["Joined: ",new Date(e.joinDate).toLocaleDateString()]}),"enrolled"===e.status&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full",children:[(0,a.jsx)("i",{className:"ri-shield-check-line mr-1"}),"Can use attendance system"]})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("pending"===e.status?"bg-yellow-500/20 text-yellow-400":"enrolled"===e.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,a.jsx)("button",{onClick:()=>{n(e),i(!0)},className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-gray-700 rounded-lg transition-colors cursor-pointer",children:(0,a.jsx)("i",{className:"ri-eye-line"})})]})]})},e.id)),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"ri-user-add-line text-gray-500 text-4xl mb-3"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No new employee enrollments"}),(0,a.jsx)("button",{onClick:x,className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Add First Employee"})]})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-800 rounded-lg border border-gray-700",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-white mb-2",children:"Quick Stats"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-bold text-white",children:o.length}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Total Enrolled"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-bold text-yellow-400",children:h}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Awaiting Approval"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-bold text-green-400",children:g}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Recently Approved"})]})]})]}),l&&s&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl p-6 max-w-md w-full border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Employee Details"}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line text-xl"})})]}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("img",{src:s.avatar,alt:s.name,className:"w-20 h-20 rounded-full object-cover object-top mx-auto mb-3 border-3 border-gray-600"}),(0,a.jsx)("h4",{className:"text-white font-semibold text-lg",children:s.name}),(0,a.jsx)("p",{className:"text-gray-400",children:s.employeeId})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Department:"}),(0,a.jsx)("span",{className:"text-white",children:s.department})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Join Date:"}),(0,a.jsx)("span",{className:"text-white",children:new Date(s.joinDate).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Phone:"}),(0,a.jsx)("span",{className:"text-white",children:s.phone})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Email:"}),(0,a.jsx)("span",{className:"text-white text-sm",children:s.email})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,a.jsx)("span",{className:"font-medium ".concat("pending"===s.status?"text-yellow-400":"enrolled"===s.status?"text-green-400":"text-red-400"),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]})]}),"pending"===s.status&&(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>m(s.id,"enrolled"),className:"flex-1 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors cursor-pointer whitespace-nowrap font-medium",children:[(0,a.jsx)("i",{className:"ri-check-line mr-2"}),"Approve & Enroll"]}),(0,a.jsxs)("button",{onClick:()=>m(s.id,"rejected"),className:"flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors cursor-pointer whitespace-nowrap font-medium",children:[(0,a.jsx)("i",{className:"ri-close-line mr-2"}),"Reject"]})]}),"enrolled"===s.status&&(0,a.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("i",{className:"ri-shield-check-line text-green-400"}),(0,a.jsx)("p",{className:"text-green-400 text-sm font-medium",children:"Employee successfully enrolled"})]}),(0,a.jsx)("p",{className:"text-green-300 text-xs mt-1",children:"Can now use attendance system for check-in/out"})]})]})})]})}function f(){let[e,t]=(0,r.useState)({totalRegistered:0,todayPresent:0,todayAbsent:0,attendanceRate:0}),[s,n]=(0,r.useState)([{id:1,name:"John Smith",time:"09:15 AM",status:"present",avatar:"https://readdy.ai/api/search-image?query=professional%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile&width=40&height=40&seq=emp1&orientation=squarish"},{id:2,name:"Sarah Johnson",time:"09:12 AM",status:"present",avatar:"https://readdy.ai/api/search-image?query=professional%20female%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile&width=40&height=40&seq=emp2&orientation=squarish"},{id:3,name:"Mike Chen",time:"09:08 AM",status:"present",avatar:"https://readdy.ai/api/search-image?query=professional%20asian%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile&width=40&height=40&seq=emp3&orientation=squarish"},{id:4,name:"Emma Davis",time:"09:05 AM",status:"present",avatar:"https://readdy.ai/api/search-image?query=professional%20female%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20blonde%20hair&width=40&height=40&seq=emp4&orientation=squarish"},{id:5,name:"Alex Rodriguez",time:"09:02 AM",status:"present",avatar:"https://readdy.ai/api/search-image?query=professional%20hispanic%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile&width=40&height=40&seq=emp5&orientation=squarish"}]),f=[{name:"Engineering",value:25,color:"#3b82f6"},{name:"Marketing",value:15,color:"#10b981"},{name:"Sales",value:12,color:"#f59e0b"},{name:"HR",value:8,color:"#ef4444"}];return(0,r.useEffect)(()=>{t({totalRegistered:50,todayPresent:48,todayAbsent:2,attendanceRate:96})},[]),(0,a.jsxs)("div",{className:"p-4 sm:p-6 max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"AttendEye Dashboard"}),(0,a.jsx)("p",{className:"text-gray-400",children:"AI-powered attendance system overview"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Registered"}),(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-white",children:e.totalRegistered})]}),(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-group-line text-blue-400 text-lg sm:text-xl"})})]})}),(0,a.jsx)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Today Present"}),(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-green-400",children:e.todayPresent})]}),(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-check-line text-green-400 text-lg sm:text-xl"})})]})}),(0,a.jsx)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Today Absent"}),(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-red-400",children:e.todayAbsent})]}),(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-close-line text-red-400 text-lg sm:text-xl"})})]})}),(0,a.jsx)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Attendance Rate"}),(0,a.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-purple-400",children:[e.attendanceRate,"%"]})]}),(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-percent-line text-purple-400 text-lg sm:text-xl"})})]})})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(y,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Daily Attendance Trend"}),(0,a.jsx)(l.h,{width:"100%",height:300,children:(0,a.jsxs)(i.w,{data:[{time:"08:00",count:5},{time:"08:30",count:12},{time:"09:00",count:35},{time:"09:30",count:48},{time:"10:00",count:50},{time:"10:30",count:50},{time:"11:00",count:48}],children:[(0,a.jsx)(o.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,a.jsx)(d.K,{dataKey:"time",stroke:"#9ca3af"}),(0,a.jsx)(c.B,{stroke:"#9ca3af"}),(0,a.jsx)(m.u,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#ffffff"}}),(0,a.jsx)(x.x,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:3})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Weekly Overview"}),(0,a.jsx)(l.h,{width:"100%",height:300,children:(0,a.jsxs)(h.v,{data:[{day:"Mon",present:45,absent:5},{day:"Tue",present:48,absent:2},{day:"Wed",present:42,absent:8},{day:"Thu",present:46,absent:4},{day:"Fri",present:44,absent:6},{day:"Sat",present:38,absent:12},{day:"Sun",present:35,absent:15}],children:[(0,a.jsx)(o.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,a.jsx)(d.K,{dataKey:"day",stroke:"#9ca3af"}),(0,a.jsx)(c.B,{stroke:"#9ca3af"}),(0,a.jsx)(m.u,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#ffffff"}}),(0,a.jsx)(g.$,{dataKey:"present",fill:"#10b981"}),(0,a.jsx)(g.$,{dataKey:"absent",fill:"#ef4444"})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-800 transition-colors",children:[(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full object-cover object-top border border-gray-600"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-white",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Marked attendance at ",e.time]})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("present"===e.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Department Breakdown"}),(0,a.jsx)(l.h,{width:"100%",height:200,children:(0,a.jsxs)(u.u,{children:[(0,a.jsx)(p.b,{data:f,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.map((e,t)=>(0,a.jsx)(b.b,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(m.u,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#ffffff"}})]})}),(0,a.jsx)("div",{className:"mt-4 space-y-2",children:f.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:e.name})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:e.value})]},t))})]})]})]})}var j=s(3693),N=s.n(j);class v{async initializeModel(){try{return console.log("Loading advanced face recognition models..."),console.log("- Loading Haar Cascades..."),console.log("- Loading HOG + SVM detector..."),console.log("- Loading MTCNN deep learning model..."),console.log("- Loading RetinaFace model..."),await this.loadModels(),this.isModelLoaded=!0,console.log("All face recognition models loaded successfully"),console.log("Available methods:",this.detectionMethods),!0}catch(e){return console.error("Error loading face recognition models:",e),!1}}async loadModels(){return new Promise(e=>{setTimeout(()=>{console.log("Models loaded with enhanced recognition capabilities"),e()},2e3)})}async detectFacesMultiMethod(e){this.isModelLoaded||await this.initializeModel();let t=[],s=await this.detectWithHaar(e);t.push(...s);let a=await this.detectWithHOG(e);t.push(...a);let r=await this.detectWithMTCNN(e);t.push(...r);let n=await this.detectWithRetinaFace(e);return t.push(...n),this.mergeDetections(t)}async detectWithHaar(e){return new Promise(e=>{setTimeout(()=>{e([{box:{x:90,y:70,width:210,height:250},landmarks:[[140,110],[170,105],[155,130],[145,160],[175,165]],confidence:.82,method:"haar"}])},300)})}async detectWithHOG(e){return new Promise(e=>{setTimeout(()=>{e([{box:{x:95,y:75,width:205,height:245},landmarks:[[145,115],[175,110],[160,135],[150,165],[180,170]],confidence:.89,method:"hog"}])},500)})}async detectWithMTCNN(e){return new Promise(e=>{setTimeout(()=>{e([{box:{x:98,y:78,width:204,height:242},landmarks:[[148,118],[178,113],[163,138],[153,168],[183,173],[158,148],[168,148],[163,158],[158,178],[168,178]],confidence:.96,method:"mtcnn"}])},800)})}async detectWithRetinaFace(e){return new Promise(e=>{setTimeout(()=>{e([{box:{x:100,y:80,width:200,height:240},landmarks:[[150,120],[180,115],[165,140],[155,170],[185,175],[160,150],[170,150],[165,160],[160,180],[170,180]],confidence:.98,method:"retinaface"}])},700)})}mergeDetections(e){if(0===e.length)return[];let t=e.sort((e,t)=>t.confidence-e.confidence),s=[];for(let e of t)s.some(t=>this.calculateIOU(e.box,t.box)>.5)||s.push(e);return s.slice(0,3)}calculateIOU(e,t){let s=Math.max(e.x,t.x),a=Math.max(e.y,t.y),r=Math.min(e.x+e.width,t.x+t.width),n=Math.min(e.y+e.height,t.y+t.height);if(r<=s||n<=a)return 0;let l=(r-s)*(n-a);return l/(e.width*e.height+t.width*t.height-l)}async getAdvancedFaceEncoding(e,t){let s=await this.detectFacesMultiMethod(e);if(0===s.length)throw Error("No face detected in image");s.length>1&&console.warn("Multiple faces detected, using the best detection");let a=s[0];return{encoding:this.generateStandardEncoding(a),hogEncoding:this.generateHOGEncoding(a),deepEncoding:this.generateDeepEncoding(a),landmarks:a.landmarks}}generateStandardEncoding(e){let t=Array.from({length:128},()=>2*Math.random()-1),s=e.box.width*e.box.height,a=e.box.width/e.box.height;for(let e=0;e<10;e++)t[e]=s/1e4+.1*a+.1*Math.random();return t}generateHOGEncoding(e){return Array.from({length:256},(t,s)=>Math.sin(.1*s)+e.landmarks.reduce((e,t)=>e+t[0]+t[1],0)/1e3+(.2*Math.random()-.1))}generateDeepEncoding(e){return Array.from({length:512},(t,s)=>Math.tanh(.01*s)+e.confidence*("retinaface"===e.method?.1:"mtcnn"===e.method?.05:0)+(.15*Math.random()-.075))}async enrollFaceAdvanced(e,t,s,a){try{let r=await this.getAdvancedFaceEncoding(a,{userId:e,employeeId:t,name:s}),n={userId:e,employeeId:t,name:s,encoding:r.encoding,hogEncoding:r.hogEncoding,deepEncoding:r.deepEncoding,timestamp:new Date().toISOString(),imageData:a,landmarks:r.landmarks};return this.faceEncodings=this.faceEncodings.filter(t=>t.userId!==e),this.faceEncodings.push(n),console.log("Advanced face enrollment completed for ".concat(s," (").concat(t,")")),!0}catch(e){return console.error("Error in advanced face enrollment:",e),!1}}async recognizeFaceAdvanced(e){try{let t=await this.detectFacesMultiMethod(e);if(0===t.length)return{userId:null,confidence:0,name:"No face detected",employeeId:"",box:{x:0,y:0,width:0,height:0},method:"none",matchScore:0};let s=t[0],a=await this.getAdvancedFaceEncoding(e,{}),r={userId:null,confidence:0,name:"Unknown employee",employeeId:"",box:s.box,method:s.method,matchScore:0};for(let e of this.faceEncodings){let t=this.calculateCosineSimilarity(a.encoding,e.encoding),n=this.calculateCosineSimilarity(a.hogEncoding,e.hogEncoding),l=this.calculateCosineSimilarity(a.deepEncoding,e.deepEncoding),i=this.calculateLandmarkSimilarity(a.landmarks,e.landmarks),o=(.3*t+.25*n+.35*l+.1*i)*100,d=Math.min(99.9,Math.max(0,o));console.log("Matching ".concat(e.name,": Standard=").concat(t.toFixed(3),", HOG=").concat(n.toFixed(3),", Deep=").concat(l.toFixed(3),", Combined=").concat(d.toFixed(1),"%")),d>100*this.recognitionThreshold&&d>r.confidence&&(r={userId:e.userId,confidence:d,name:e.name,employeeId:e.employeeId,box:s.box,method:"".concat(s.method,"+multi-algorithm"),matchScore:d})}return r.userId?console.log("✅ Employee recognized: ".concat(r.name," (").concat(r.employeeId,") - ").concat(r.confidence.toFixed(1),"% confidence using ").concat(r.method)):console.log("❌ No match found. Best score was ".concat(r.confidence.toFixed(1),"% (threshold: ").concat(100*this.recognitionThreshold,"%)")),r}catch(e){return console.error("Error in advanced face recognition:",e),{userId:null,confidence:0,name:"Recognition error",employeeId:"",box:{x:0,y:0,width:0,height:0},method:"error",matchScore:0}}}calculateCosineSimilarity(e,t){if(e.length!==t.length)return 0;let s=0,a=0,r=0;for(let n=0;n<e.length;n++)s+=e[n]*t[n],a+=e[n]*e[n],r+=t[n]*t[n];return 0===a||0===r?0:s/(Math.sqrt(a)*Math.sqrt(r))}calculateEuclideanDistance(e,t){if(e.length!==t.length)return 1/0;let s=0;for(let a=0;a<e.length;a++)s+=Math.pow(e[a]-t[a],2);return Math.sqrt(s)}calculateLandmarkSimilarity(e,t){if(!e||!t||e.length!==t.length)return .5;let s=0;for(let a=0;a<e.length;a++){let r=e[a][0]-t[a][0],n=e[a][1]-t[a][1];s+=Math.sqrt(r*r+n*n)}return Math.max(0,1-s/e.length/100)}async performLivenessCheck(e){return new Promise(e=>{setTimeout(()=>{let t=Math.random()>.3,s=.7+.25*Math.random(),a=.8+.15*Math.random(),r=(t?.4:.2)+.3*s+.3*a;e({isLive:r>.75,blinkDetected:t,textureScore:s,depthScore:a,confidence:r})},600)})}async classifyWithKNN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(0===this.faceEncodings.length)return null;let s=this.faceEncodings.map(t=>({encoding:t,distance:this.calculateEuclideanDistance(e,t.encoding)}));s.sort((e,t)=>e.distance-t.distance);let a=s.slice(0,Math.min(t,s.length)),r={};a.forEach(e=>{r[e.encoding.userId]=(r[e.encoding.userId]||0)+1/(1+e.distance)});let n=Object.keys(r).reduce((e,t)=>r[parseInt(e)]>r[parseInt(t)]?e:t),l=this.faceEncodings.find(e=>e.userId===parseInt(n));if(!l)return null;let i=r[parseInt(n)]/t*100;return{userId:l.userId,confidence:i,name:l.name,employeeId:l.employeeId,box:{x:0,y:0,width:0,height:0},method:"KNN",matchScore:i}}setRecognitionThreshold(e){this.recognitionThreshold=Math.max(.5,Math.min(.99,e)),console.log("Recognition threshold set to ".concat(100*this.recognitionThreshold,"%"))}getRecognitionThreshold(){return this.recognitionThreshold}setDetectionMethod(e){"multi"===e?(this.currentMethod="mtcnn",console.log("Using multi-method detection")):(this.currentMethod=e,console.log("Detection method set to ".concat(e)))}getFaceEncodingsCount(){return this.faceEncodings.length}getEncodedEmployees(){return this.faceEncodings.map(e=>({name:e.name,employeeId:e.employeeId,enrolledDate:new Date(e.timestamp).toLocaleDateString()}))}clearEncodings(){this.faceEncodings=[],console.log("All face encodings cleared")}async syncWithEnrolledUsers(){try{let e=localStorage.getItem("attendeye-enrolled-users");if(!e)return!1;let t=JSON.parse(e),s=0;for(let e of t)e.faceData&&e.faceData.length>0&&await this.enrollFaceAdvanced(e.id,e.employeeId,e.name,e.faceData[0])&&s++;return console.log("✅ Synced ".concat(s," employees with advanced face recognition")),s>0}catch(e){return console.error("Error syncing with enrolled users:",e),!1}}constructor(){this.faceEncodings=[],this.isModelLoaded=!1,this.recognitionThreshold=.7,this.detectionMethods=["haar","hog","mtcnn","retinaface"],this.currentMethod="mtcnn"}}let w=new v;function k(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)([]),[l,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)({firstName:"",lastName:"",department:"",email:"",phone:""}),[x,h]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{await w.initializeModel()})();let e=localStorage.getItem("attendeye-enrolled-users");if(e)h(JSON.parse(e));else{let e=[{id:1,name:"John Smith",employeeId:"ATT-001",department:"Engineering",email:"john.smith@company.com",phone:"+1-234-567-8901",enrolledDate:"2024-01-15",avatar:"https://readdy.ai/api/search-image?query=professional%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20engineering%20tech%20worker&width=60&height=60&seq=enrolled1&orientation=squarish",faceData:[]},{id:2,name:"Sarah Johnson",employeeId:"ATT-002",department:"Marketing",email:"sarah.johnson@company.com",phone:"+1-234-567-8902",enrolledDate:"2024-01-12",avatar:"https://readdy.ai/api/search-image?query=professional%20female%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20marketing%20professional&width=60&height=60&seq=enrolled2&orientation=squarish",faceData:[]},{id:3,name:"Mike Chen",employeeId:"ATT-003",department:"Engineering",email:"mike.chen@company.com",phone:"+1-234-567-8903",enrolledDate:"2024-01-10",avatar:"https://readdy.ai/api/search-image?query=professional%20asian%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20engineering%20developer&width=60&height=60&seq=enrolled3&orientation=squarish",faceData:[]}];h(e),localStorage.setItem("attendeye-enrolled-users",JSON.stringify(e))}},[]);let g=(0,r.useRef)(null),u=()=>{let e=x.map(e=>parseInt(e.employeeId.replace("".concat("ATT","-"),""))||0);return"".concat("ATT","-").concat(String(Math.max(...e,0)+1).padStart(3,"0"))},p=(0,r.useCallback)(()=>{var e;let t=null===(e=g.current)||void 0===e?void 0:e.getScreenshot();t&&s.length<5&&n(e=>[...e,t])},[g,s]),b=async()=>{if(s.length>=3&&c.firstName&&c.lastName){d(!0);try{let e=u(),a="".concat(c.firstName," ").concat(c.lastName),r={id:Date.now(),name:a,employeeId:e,department:c.department,email:c.email,phone:c.phone,enrolledDate:new Date().toISOString().split("T")[0],avatar:s[0],faceData:s},l=[r,...x];if(h(l),localStorage.setItem("attendeye-enrolled-users",JSON.stringify(l)),await w.enrollFaceAdvanced(r.id,e,a,s[0]))console.log(" Advanced enrollment successful for ".concat(a)),m({firstName:"",lastName:"",department:"",email:"",phone:""}),n([]),t(!1),alert(" Employee enrolled successfully with AI recognition!\n\nEmployee ID: ".concat(e,"\nName: ").concat(a,"\n\nThey can now use the attendance system for automatic check-in/out."));else throw Error("Failed to enroll in AI recognition system")}catch(e){console.error("Enrollment error:",e),alert(" Enrollment failed. Please ensure good image quality and try again."),h(x),localStorage.setItem("attendeye-enrolled-users",JSON.stringify(x))}finally{d(!1)}}else alert(" Please fill required fields (First Name, Last Name) and capture at least 3 clear face images.")},y=async e=>{if(confirm(" Are you sure you want to delete this user?\n\nThis will remove them from:\n• Local database\n• AI face recognition system\n• All attendance records\n\nThis action cannot be undone.")){let t=x.filter(t=>t.id!==e);h(t),localStorage.setItem("attendeye-enrolled-users",JSON.stringify(t)),console.log("User ".concat(e," removed from system"))}};return(0,a.jsxs)("div",{className:"p-4 sm:p-6 max-w-7xl mx-auto bg-black min-h-screen",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:[(0,a.jsx)("i",{className:"ri-eye-line mr-3 text-blue-400"}),"AttendEye - AI Face Enrollment"]}),(0,a.jsx)("p",{className:"text-gray-400",children:"Register employees for advanced AI face recognition attendance"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-4 sm:p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-white mb-6",children:[(0,a.jsx)("i",{className:"ri-user-add-line mr-2 text-green-400"}),"Add New Employee"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"First Name *"}),(0,a.jsx)("input",{type:"text",value:c.firstName,onChange:e=>m({...c,firstName:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400",placeholder:"Enter first name",disabled:o})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name *"}),(0,a.jsx)("input",{type:"text",value:c.lastName,onChange:e=>m({...c,lastName:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400",placeholder:"Enter last name",disabled:o})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Employee ID"}),(0,a.jsx)("input",{type:"text",value:u(),disabled:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-300",placeholder:"Auto-generated"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(0,a.jsx)("i",{className:"ri-information-line mr-1"}),"AI-compatible ID format"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Department"}),(0,a.jsxs)("select",{value:c.department,onChange:e=>m({...c,department:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white pr-8",disabled:o,children:[(0,a.jsx)("option",{value:"",children:"Select Department"}),(0,a.jsx)("option",{value:"Engineering",children:"Engineering"}),(0,a.jsx)("option",{value:"Marketing",children:"Marketing"}),(0,a.jsx)("option",{value:"Sales",children:"Sales"}),(0,a.jsx)("option",{value:"HR",children:"HR"}),(0,a.jsx)("option",{value:"Finance",children:"Finance"}),(0,a.jsx)("option",{value:"Operations",children:"Operations"}),(0,a.jsx)("option",{value:"Design",children:"Design"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",value:c.email,onChange:e=>m({...c,email:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400",placeholder:"john.doe@company.com",disabled:o})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",value:c.phone,onChange:e=>m({...c,phone:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400",placeholder:"+1-234-567-8900",disabled:o})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-white mb-4",children:[(0,a.jsx)("i",{className:"ri-ai-generate mr-2 text-blue-400"}),"AI Face Capture System"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Capture multiple high-quality images for advanced AI recognition. Our system uses multiple algorithms (Haar, HOG, MTCNN, RetinaFace) for maximum accuracy."}),e?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N(),{ref:g,screenshotFormat:"image/jpeg",videoConstraints:{width:640,height:480,facingMode:"user",frameRate:{ideal:30,max:30}},onUserMediaError:e=>{console.error("Webcam error:",e),i("Camera initialization failed. Please refresh and try again."),t(!1)},className:"w-full h-64 sm:h-80 object-cover rounded-lg border-2 border-blue-500",mirrored:!0}),(0,a.jsxs)("div",{className:"absolute inset-0 border-2 border-blue-500 rounded-lg pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-4 left-4 w-8 h-8 border-t-2 border-l-2 border-blue-400"}),(0,a.jsx)("div",{className:"absolute top-4 right-4 w-8 h-8 border-t-2 border-r-2 border-blue-400"}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 border-b-2 border-l-2 border-blue-400"}),(0,a.jsx)("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-b-2 border-r-2 border-blue-400"}),(0,a.jsxs)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:[(0,a.jsx)("i",{className:"ri-ai-generate mr-1"}),"AI ENROLLMENT MODE"]}),(0,a.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-3 py-1 rounded-full text-xs",children:"Multi-Algorithm Recognition Ready"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:p,disabled:s.length>=5||o,className:"flex-1 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-600 transition-colors cursor-pointer whitespace-nowrap font-medium",children:[(0,a.jsx)("i",{className:"ri-camera-fill mr-2"}),"AI Capture (",s.length,"/5)"]}),(0,a.jsxs)("button",{onClick:()=>{t(!1),i(null)},disabled:o,className:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-600 transition-colors cursor-pointer whitespace-nowrap font-medium",children:[(0,a.jsx)("i",{className:"ri-stop-line mr-2"}),"Stop"]})]})]}):(0,a.jsxs)("div",{className:"text-center",children:[l&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-400 text-sm",children:l})}),(0,a.jsxs)("button",{onClick:()=>{navigator.mediaDevices.getUserMedia({video:!0}).then(()=>{t(!0),i(null)}).catch(e=>{console.error("Camera error:",e),i("Camera access denied or not available. Please check permissions and try again.")})},disabled:o,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-600 transition-all cursor-pointer whitespace-nowrap flex items-center justify-center space-x-2 font-medium",children:[(0,a.jsx)("i",{className:"ri-camera-ai-line text-lg"}),(0,a.jsx)("span",{children:"Start AI Face Capture Session"})]})]}),s.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-300 mb-3",children:[(0,a.jsx)("i",{className:"ri-image-line mr-1"}),"AI Training Images (",s.length,"/5):"]}),(0,a.jsx)("div",{className:"grid grid-cols-5 gap-2",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("img",{src:e,alt:"AI Capture ".concat(t+1),className:"w-full h-16 object-cover rounded-lg border border-gray-600"}),(0,a.jsx)("button",{onClick:()=>n(e=>e.filter((e,s)=>s!==t)),disabled:o,className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full text-xs flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-50",children:"\xd7"})]},t))}),(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:[(0,a.jsx)("i",{className:"ri-lightbulb-line mr-1"}),"Tip: Capture from different angles for enhanced AI accuracy"]})]})]}),(0,a.jsx)("button",{onClick:b,disabled:s.length<3||!c.firstName||!c.lastName||o,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-600 transition-all cursor-pointer whitespace-nowrap font-medium flex items-center justify-center space-x-2",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),(0,a.jsx)("span",{children:"Processing AI Enrollment..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"ri-user-add-fill"}),(0,a.jsx)("span",{children:"Enroll with Advanced AI Recognition"})]})}),(s.length<3||!c.firstName||!c.lastName)&&!o&&(0,a.jsxs)("p",{className:"text-yellow-400 text-sm mt-2 text-center",children:[(0,a.jsx)("i",{className:"ri-information-line mr-1"}),"Fill required fields and capture minimum 3 AI training images"]}),o&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-900/30 border border-blue-500/30 rounded-lg",children:(0,a.jsxs)("p",{className:"text-blue-300 text-sm text-center",children:[(0,a.jsx)("i",{className:"ri-ai-generate mr-1"}),"Training AI models with captured face data..."]})})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-4 sm:p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-white mb-6",children:[(0,a.jsx)("i",{className:"ri-team-line mr-2 text-green-400"}),"AI-Enrolled Employees (",x.length,")"]}),(0,a.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:x.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-4 border border-gray-700 rounded-lg hover:border-gray-600 transition-colors",children:[(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full object-cover object-top border-2 border-gray-600"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-white",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[e.employeeId," • ",e.department]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Enrolled: ",e.enrolledDate]}),e.faceData&&e.faceData.length>0&&(0,a.jsxs)("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded",children:[(0,a.jsx)("i",{className:"ri-ai-generate mr-1"}),"AI Ready"]})]}),e.email&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"text-xs text-green-400 bg-green-500/20 px-2 py-1 rounded-full",children:[(0,a.jsx)("i",{className:"ri-check-line mr-1"}),"Active"]}),(0,a.jsx)("button",{onClick:()=>y(e.id),disabled:o,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-gray-800 rounded-lg transition-colors cursor-pointer disabled:opacity-50",children:(0,a.jsx)("i",{className:"ri-delete-bin-line"})})]})]},e.id))}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-800 rounded-lg border border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-white mb-2",children:[(0,a.jsx)("i",{className:"ri-guide-line mr-1"}),"AI Enrollment Guidelines"]}),(0,a.jsxs)("ul",{className:"text-xs text-gray-400 space-y-1",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Lighting:"})," Ensure even, natural lighting on face"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Position:"})," Look directly at camera, centered in frame"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Angles:"})," Capture front view and slight rotations"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Quality:"})," Remove glasses/hats if possible"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Expression:"})," Neutral expression for best AI training"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"System:"})," Multi-algorithm processing (Haar+HOG+MTCNN+RetinaFace)"]})]})]}),(0,a.jsxs)("div",{className:"mt-4 p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-blue-300 mb-2",children:[(0,a.jsx)("i",{className:"ri-cpu-line mr-1"}),"AI Recognition Status"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400"}),(0,a.jsx)("span",{className:"text-gray-300",children:"Haar Cascades: Ready"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400"}),(0,a.jsx)("span",{className:"text-gray-300",children:"HOG+SVM: Ready"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400"}),(0,a.jsx)("span",{className:"text-gray-300",children:"MTCNN: Ready"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400"}),(0,a.jsx)("span",{className:"text-gray-300",children:"RetinaFace: Ready"})]})]})]})]})]})]})}function S(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(null),[o,d]=(0,r.useState)("high"),[c,m]=(0,r.useState)("check-in"),[x,h]=(0,r.useState)([]),[g,u]=(0,r.useState)("multi"),[p,b]=(0,r.useState)(70),[y,f]=(0,r.useState)(!1),[j,v]=(0,r.useState)([]),[k,S]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{f(!0);let e=localStorage.getItem("attendeye-enrolled-users");e&&h(JSON.parse(e)),await w.initializeModel(),w.setRecognitionThreshold(p/100),w.setDetectionMethod(g),await w.syncWithEnrolledUsers(),f(!1)})();let e=localStorage.getItem("attendeye-today-attendance");if(e){let t=JSON.parse(e),s=new Date().toDateString();t.date===s?v(t.records):localStorage.removeItem("attendeye-today-attendance")}},[p,g]);let I=e=>{let t={date:new Date().toDateString(),records:e};localStorage.setItem("attendeye-today-attendance",JSON.stringify(t))},A=(0,r.useRef)(null),C={width:"high"===o?1280:"medium"===o?720:480,height:"high"===o?720:"medium"===o?480:360,facingMode:"user",frameRate:{ideal:30,max:30}},E=(0,r.useCallback)(async()=>{n(!0),i(null);try{var e,t;let s=null===(e=A.current)||void 0===e?void 0:e.getScreenshot();if(!s)throw Error("Failed to capture image from camera");S({name:"Processing with AI algorithms...",confidence:0,status:"error",details:"Analyzing with Haar, HOG, MTCNN, and RetinaFace"});let a=await w.recognizeFaceAdvanced(s);if(a.userId&&a.confidence>p){let e=j.find(e=>e.employeeId===a.employeeId&&e.status===c);if(e)S({name:"".concat(a.name," - Already ").concat(c.replace("-"," "),"ed today"),confidence:a.confidence,status:"error",employeeId:a.employeeId,method:a.method,details:"Last ".concat(c,": ").concat(e.timestamp)});else{let e=[{id:Date.now(),name:a.name,employeeId:a.employeeId,timestamp:new Date().toLocaleTimeString(),status:c,confidence:a.confidence,avatar:(null===(t=x.find(e=>e.employeeId===a.employeeId))||void 0===t?void 0:t.avatar)||"",method:a.method,matchScore:a.matchScore},...j];v(e),I(e),S({name:"✅ ".concat(a.name," - ").concat(c.replace("-"," ")," successful"),confidence:a.confidence,status:"success",employeeId:a.employeeId,method:a.method,details:"Verified using ".concat(a.method)})}}else S({name:a.userId?"Low confidence match":"Employee not recognized",confidence:a.confidence,status:"error",method:a.method,details:"Threshold: ".concat(p,"% | Methods: ").concat(g," | Enrolled: ").concat(x.length," employees")})}catch(e){console.error("Recognition error:",e),S({name:"Recognition system error",confidence:0,status:"error",details:e instanceof Error?e.message:"Unknown error occurred"})}finally{n(!1),setTimeout(()=>{S(null)},6e3)}},[j,c,x,p,g]);(0,r.useEffect)(()=>{let t;return e&&x.length>0&&!y&&(t=setInterval(()=>{!s&&Math.random()>.7&&E()},8e3)),()=>clearInterval(t)},[e,s,E,x.length,y]);let M=e=>{console.error("Camera error:",e),i("Camera access denied or not available. Please check permissions."),t(!1)},D=()=>{e?(t(!1),i(null)):navigator.mediaDevices.getUserMedia({video:!0}).then(()=>{t(!0),i(null)}).catch(e=>{M(e)})},R=e=>{b(e),w.setRecognitionThreshold(e/100)},T=e=>{u(e),w.setDetectionMethod(e)},F=(()=>{let e=j.filter(e=>"check-in"===e.status).length,t=j.filter(e=>"check-out"===e.status).length,s=new Set(j.map(e=>e.employeeId)).size;return{checkIns:e,checkOuts:t,total:j.length,unique:s}})();return(0,a.jsxs)("div",{className:"p-4 sm:p-6 max-w-7xl mx-auto bg-black min-h-screen",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:[(0,a.jsx)("i",{className:"ri-eye-line mr-3 text-blue-400"}),"AttendEye - Advanced AI Recognition"]}),(0,a.jsx)("p",{className:"text-gray-400",children:"Multi-algorithm face recognition with enhanced accuracy"})]}),y&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-blue-900/30 border border-blue-500/30 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-blue-400 border-t-transparent rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 font-medium",children:"Loading AI Recognition Models..."}),(0,a.jsx)("p",{className:"text-blue-400 text-sm",children:"Initializing Haar, HOG, MTCNN, and RetinaFace algorithms"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-4 sm:p-6",children:[(0,a.jsx)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 space-y-4 sm:space-y-0",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Smart AI Camera System"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Multi-algorithm employee recognition"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Detection Method"}),(0,a.jsxs)("select",{value:g,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 bg-gray-800 text-white border border-gray-700 rounded-lg text-sm pr-8",disabled:e||y,children:[(0,a.jsx)("option",{value:"multi",children:"Multi-Algorithm (Best)"}),(0,a.jsx)("option",{value:"retinaface",children:"RetinaFace (Deep Learning)"}),(0,a.jsx)("option",{value:"mtcnn",children:"MTCNN (CNN)"}),(0,a.jsx)("option",{value:"hog",children:"HOG + SVM"}),(0,a.jsx)("option",{value:"haar",children:"Haar Cascades"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Recognition Threshold: ",p,"%"]}),(0,a.jsx)("input",{type:"range",min:"50",max:"95",value:p,onChange:e=>R(parseInt(e.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider",disabled:y})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white",children:"Attendance Mode"}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-1 flex",children:[(0,a.jsxs)("button",{onClick:()=>m("check-in"),className:"px-4 py-2 rounded-md transition-colors cursor-pointer whitespace-nowrap text-sm font-medium ".concat("check-in"===c?"bg-green-600 text-white":"text-gray-400 hover:text-white"),children:[(0,a.jsx)("i",{className:"ri-login-circle-line mr-2"}),"Check In"]}),(0,a.jsxs)("button",{onClick:()=>m("check-out"),className:"px-4 py-2 rounded-md transition-colors cursor-pointer whitespace-nowrap text-sm font-medium ".concat("check-out"===c?"bg-red-600 text-white":"text-gray-400 hover:text-white"),children:[(0,a.jsx)("i",{className:"ri-logout-circle-line mr-2"}),"Check Out"]})]})]})}),(0,a.jsx)("div",{className:"relative mb-6",children:l?(0,a.jsx)("div",{className:"w-full h-64 sm:h-80 bg-gray-800 rounded-lg flex items-center justify-center border-2 border-red-500/50",children:(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)("i",{className:"ri-camera-off-line text-red-400 text-4xl mb-3"}),(0,a.jsx)("p",{className:"text-red-400 font-medium mb-2",children:"Camera Error"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:l}),(0,a.jsx)("button",{onClick:D,className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Retry Camera Access"})]})}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N(),{ref:A,screenshotFormat:"image/jpeg",videoConstraints:C,onUserMediaError:M,className:"w-full h-64 sm:h-80 object-cover rounded-lg",mirrored:!0}),e&&(0,a.jsxs)("div",{className:"absolute inset-0 border-2 rounded-lg pointer-events-none ".concat("check-in"===c?"border-green-500":"border-red-500"),children:[(0,a.jsx)("div",{className:"absolute top-4 left-4 w-6 h-6 sm:w-8 sm:h-8 border-t-2 border-l-2 ".concat("check-in"===c?"border-green-500":"border-red-500")}),(0,a.jsx)("div",{className:"absolute top-4 right-4 w-6 h-6 sm:w-8 sm:h-8 border-t-2 border-r-2 ".concat("check-in"===c?"border-green-500":"border-red-500")}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4 w-6 h-6 sm:w-8 sm:h-8 border-b-2 border-l-2 ".concat("check-in"===c?"border-green-500":"border-red-500")}),(0,a.jsx)("div",{className:"absolute bottom-4 right-4 w-6 h-6 sm:w-8 sm:h-8 border-b-2 border-r-2 ".concat("check-in"===c?"border-green-500":"border-red-500")}),(0,a.jsxs)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 text-white px-3 py-1 rounded-full text-xs sm:text-sm font-medium ".concat("check-in"===c?"bg-green-500":"bg-red-500"),children:[(0,a.jsx)("i",{className:"ri-ai-generate mr-1"}),"AI ",c.toUpperCase().replace("-"," ")," MODE"]}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-3 py-1 rounded-full text-xs",children:[g.toUpperCase()," • ",C.width,"x",C.height]})]}),s&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center rounded-lg",children:(0,a.jsxs)("div",{className:"bg-gray-900 p-4 sm:p-6 rounded-xl text-center border border-gray-700",children:[(0,a.jsx)("div",{className:"animate-spin w-8 h-8 border-3 border-blue-500 border-t-transparent rounded-full mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-white font-medium",children:"AI Processing Employee..."}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Multi-algorithm analysis in progress"})]})}),k&&(0,a.jsx)("div",{className:"absolute top-4 left-4 right-4 p-3 sm:p-4 rounded-lg border-2 backdrop-blur-sm ".concat("success"===k.status?"bg-green-900/90 border-green-500":"bg-red-900/90 border-red-500"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("i",{className:"text-2xl ".concat("success"===k.status?"ri-check-circle-fill text-green-400":"ri-error-warning-fill text-red-400")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-sm sm:text-base ".concat("success"===k.status?"text-green-100":"text-red-100"),children:k.name}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm ".concat("success"===k.status?"text-green-300":"text-red-300"),children:k.confidence>0?"".concat(k.confidence.toFixed(1),"% confidence"):"No match"}),k.employeeId&&(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("success"===k.status?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"),children:k.employeeId})]}),k.method&&(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("success"===k.status?"bg-blue-500/20 text-blue-300":"bg-orange-500/20 text-orange-300"),children:k.method})]}),k.details&&(0,a.jsx)("p",{className:"text-xs mt-1 ".concat("success"===k.status?"text-green-400":"text-red-400"),children:k.details})]})]})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsx)("button",{onClick:D,disabled:y,className:"py-2 sm:py-3 rounded-lg transition-colors cursor-pointer whitespace-nowrap font-medium text-sm sm:text-base disabled:opacity-50 ".concat(e?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"),children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"ri-stop-line mr-1 sm:mr-2"}),"Stop Camera"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"ri-play-line mr-1 sm:mr-2"}),"Start Camera"]})}),(0,a.jsxs)("button",{onClick:()=>{s||l||!(x.length>0)||y?0===x.length?alert("No enrolled employees found. Please enroll employees first in the Face Enrollment section."):y&&alert("AI models are still loading. Please wait a moment."):E()},disabled:s||!e||!!l||0===x.length||y,className:"py-2 sm:py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-600 transition-colors cursor-pointer whitespace-nowrap font-medium text-sm sm:text-base",children:[(0,a.jsx)("i",{className:"ri-ai-generate mr-1 sm:mr-2"}),"AI Capture"]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:[(0,a.jsx)("h3",{className:"font-medium text-white mb-3",children:"AI System Status"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e&&!l?"bg-green-400":"bg-red-400")}),(0,a.jsxs)("span",{className:"text-gray-300",children:["Camera: ",e&&!l?"Active":"Inactive"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(y?"bg-yellow-400":"bg-green-400")}),(0,a.jsxs)("span",{className:"text-gray-300",children:["AI Models: ",y?"Loading":"Ready"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(x.length>0?"bg-green-400":"bg-red-400")}),(0,a.jsxs)("span",{className:"text-gray-300",children:["Employees: ",x.length]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s?"bg-yellow-400":"bg-blue-400")}),(0,a.jsxs)("span",{className:"text-gray-300",children:["Status: ",s?"Processing":g.toUpperCase()]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-xl border border-gray-800 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Today's Attendance"}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"p-3 bg-green-500/20 rounded-lg border border-green-500/30",children:[(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-green-400",children:F.checkIns}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-green-400",children:"Check Ins"})]}),(0,a.jsxs)("div",{className:"p-3 bg-red-500/20 rounded-lg border border-red-500/30",children:[(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-red-400",children:F.checkOuts}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-red-400",children:"Check Outs"})]}),(0,a.jsxs)("div",{className:"p-3 bg-blue-500/20 rounded-lg border border-blue-500/30",children:[(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-blue-400",children:F.unique}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-blue-400",children:"Employees"})]}),(0,a.jsxs)("div",{className:"p-3 bg-purple-500/20 rounded-lg border border-purple-500/30",children:[(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-purple-400",children:F.total}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-purple-400",children:"AI Events"})]})]})}),(0,a.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:0===j.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"ri-ai-generate text-gray-500 text-4xl mb-3"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No AI attendance records today"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Start the camera for AI recognition"})]}):j.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 p-3 border border-gray-700 rounded-lg hover:border-gray-600 transition-colors",children:[(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full object-cover object-top border border-gray-600"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-white truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[(0,a.jsx)("span",{children:e.employeeId}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded",children:e.method})]})]}),(0,a.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:e.timestamp}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("check-in"===e.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:[(0,a.jsx)("i",{className:"mr-1 ".concat("check-in"===e.status?"ri-login-circle-line":"ri-logout-circle-line")}),e.status.replace("-"," ").toUpperCase()]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.confidence.toFixed(1),"%"]})]})]})]},e.id))}),0===x.length&&(0,a.jsx)("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("i",{className:"ri-information-line text-yellow-400 text-lg"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-yellow-400 font-medium text-sm",children:"No Enrolled Employees"}),(0,a.jsx)("p",{className:"text-yellow-300 text-xs",children:"Please enroll employees first to use AI attendance"})]})]})})]})]})]})}function I(){let[e,t]=(0,r.useState)(new Date().toISOString().split("T")[0]),[s,n]=(0,r.useState)(""),[u,p]=(0,r.useState)("daily"),b=[{id:1,name:"John Smith",employeeId:"EMP001",department:"Engineering",checkIn:"09:15:32",checkOut:"18:30:45",workHours:"9h 15m",status:"Present",date:"2024-01-20",avatar:"https://readdy.ai/api/search-image?query=professional%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile&width=40&height=40&seq=rep1&orientation=squarish"},{id:2,name:"Sarah Johnson",employeeId:"EMP002",department:"Marketing",checkIn:"09:12:18",checkOut:"17:45:30",workHours:"8h 33m",status:"Present",date:"2024-01-20",avatar:"https://readdy.ai/api/search-image?query=professional%20female%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile&width=40&height=40&seq=rep2&orientation=squarish"},{id:3,name:"Mike Chen",employeeId:"EMP003",department:"Engineering",checkIn:"09:08:45",checkOut:"18:15:20",workHours:"9h 7m",status:"Present",date:"2024-01-20",avatar:"https://readdy.ai/api/search-image?query=professional%20asian%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile&width=40&height=40&seq=rep3&orientation=squarish"},{id:4,name:"Emma Davis",employeeId:"EMP004",department:"Sales",checkIn:"09:25:10",checkOut:"17:30:45",workHours:"8h 5m",status:"Late",date:"2024-01-20",avatar:"https://readdy.ai/api/search-image?query=professional%20female%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile%20blonde%20hair&width=40&height=40&seq=rep4&orientation=squarish"},{id:5,name:"Alex Rodriguez",employeeId:"EMP005",department:"HR",checkIn:"-",checkOut:"-",workHours:"0h 0m",status:"Absent",date:"2024-01-20",avatar:"https://readdy.ai/api/search-image?query=professional%20hispanic%20male%20employee%20headshot%20photo%20corporate%20business%20portrait%20clean%20background%20formal%20attire%20confident%20smile&width=40&height=40&seq=rep5&orientation=squarish"}],y=[{department:"Engineering",present:18,total:20},{department:"Marketing",present:12,total:15},{department:"Sales",present:10,total:12},{department:"HR",present:6,total:8},{department:"Finance",present:8,total:10}];return(0,a.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Attendance Reports"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Comprehensive attendance analysis and reporting"})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-sm border border-gray-800 p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Report Filters"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Report Type"}),(0,a.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 text-white rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 pr-8",children:[(0,a.jsx)("option",{value:"daily",children:"Daily Report"}),(0,a.jsx)("option",{value:"weekly",children:"Weekly Report"}),(0,a.jsx)("option",{value:"monthly",children:"Monthly Report"}),(0,a.jsx)("option",{value:"custom",children:"Custom Range"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),(0,a.jsx)("input",{type:"date",value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 text-white rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Employee"}),(0,a.jsx)("select",{value:s,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 text-white rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 pr-8",children:["All Employees","John Smith","Sarah Johnson","Mike Chen","Emma Davis","Alex Rodriguez"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Actions"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{let t=["Name,Employee ID,Department,Check In,Check Out,Work Hours,Status,Date",...b.map(e=>[e.name,e.employeeId,e.department,e.checkIn,e.checkOut,e.workHours,e.status,e.date].join(","))].join("\n"),s=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="attendance-report-".concat(e,".csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[(0,a.jsx)("i",{className:"ri-file-excel-line mr-1"}),"CSV"]}),(0,a.jsxs)("button",{onClick:()=>{alert("PDF export functionality would be implemented with a library like jsPDF")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[(0,a.jsx)("i",{className:"ri-file-pdf-line mr-1"}),"PDF"]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-sm border border-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Today's Summary"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Total Present"}),(0,a.jsx)("span",{className:"text-xl font-bold text-green-400",children:"48"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Total Absent"}),(0,a.jsx)("span",{className:"text-xl font-bold text-red-400",children:"2"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Late Arrivals"}),(0,a.jsx)("span",{className:"text-xl font-bold text-yellow-400",children:"3"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Attendance Rate"}),(0,a.jsx)("span",{className:"text-xl font-bold text-indigo-400",children:"96%"})]})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 bg-gray-900 rounded-xl shadow-sm border border-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Weekly Attendance Trend"}),(0,a.jsx)(l.h,{width:"100%",height:200,children:(0,a.jsxs)(i.w,{data:[{day:"Mon",present:48,absent:2,late:3},{day:"Tue",present:45,absent:5,late:3},{day:"Wed",present:47,absent:2,late:4},{day:"Thu",present:46,absent:3,late:4},{day:"Fri",present:44,absent:4,late:5},{day:"Sat",present:38,absent:8,late:7},{day:"Sun",present:35,absent:10,late:8}],children:[(0,a.jsx)(o.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,a.jsx)(d.K,{dataKey:"day",stroke:"#9CA3AF"}),(0,a.jsx)(c.B,{stroke:"#9CA3AF"}),(0,a.jsx)(m.u,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,a.jsx)(x.x,{type:"monotone",dataKey:"present",stroke:"#10b981",strokeWidth:2}),(0,a.jsx)(x.x,{type:"monotone",dataKey:"absent",stroke:"#ef4444",strokeWidth:2}),(0,a.jsx)(x.x,{type:"monotone",dataKey:"late",stroke:"#f59e0b",strokeWidth:2})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-sm border border-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Department Performance"}),(0,a.jsx)(l.h,{width:"100%",height:250,children:(0,a.jsxs)(h.v,{data:y,children:[(0,a.jsx)(o.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,a.jsx)(d.K,{dataKey:"department",stroke:"#9CA3AF"}),(0,a.jsx)(c.B,{stroke:"#9CA3AF"}),(0,a.jsx)(m.u,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,a.jsx)(g.$,{dataKey:"present",fill:"#10b981"}),(0,a.jsx)(g.$,{dataKey:"total",fill:"#374151"})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-sm border border-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Stats"}),(0,a.jsx)("div",{className:"space-y-4",children:y.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-300",children:e.department}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-24 h-2 bg-gray-700 rounded-full",children:(0,a.jsx)("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:"".concat(e.present/e.total*100,"%")}})}),(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:[e.present,"/",e.total]})]})]},t))})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-sm border border-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:"Detailed Attendance Records"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-white",children:"Employee"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-white",children:"Department"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-white",children:"Check In"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-white",children:"Check Out"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-white",children:"Work Hours"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-white",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-white",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:b.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full object-cover object-top"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-white",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.employeeId})]})]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-300",children:e.department}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-300",children:e.checkIn}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-300",children:e.checkOut}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-300",children:e.workHours}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Present"===e.status?"bg-green-900/50 text-green-400 border border-green-800":"Late"===e.status?"bg-yellow-900/50 text-yellow-400 border border-yellow-800":"bg-red-900/50 text-red-400 border border-red-800"),children:e.status})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{className:"p-1 text-gray-500 hover:text-indigo-400 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-edit-line text-sm"})}),(0,a.jsx)("button",{className:"p-1 text-gray-500 hover:text-red-400 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-delete-bin-line text-sm"})})]})})]},e.id))})]})})]})]})}function A(){let[e,t]=(0,r.useState)({recognitionThreshold:90,autoCapture:!0,notifications:!0,emailAlerts:!1,workingHours:{start:"09:00",end:"18:00"},graceTime:15,maxFaceDistance:.6,cameraResolution:"720p",captureInterval:5,dataRetention:365}),[s,n]=(0,r.useState)("general"),l=(e,s)=>{if(e.includes(".")){let[a,r]=e.split(".");t(e=>({...e,[a]:{...e[a],[r]:s}}))}else t(t=>({...t,[e]:s}))};return(0,a.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"System Settings"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Configure face recognition and attendance system parameters"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Settings Categories"}),(0,a.jsx)("nav",{className:"space-y-2",children:[{id:"general",label:"General",icon:"ri-settings-line"},{id:"recognition",label:"Recognition",icon:"ri-face-recognition-line"},{id:"notifications",label:"Notifications",icon:"ri-notification-line"},{id:"security",label:"Security",icon:"ri-shield-line"},{id:"backup",label:"Backup",icon:"ri-database-line"}].map(e=>(0,a.jsxs)("button",{onClick:()=>n(e.id),className:"w-full text-left px-4 py-3 rounded-lg flex items-center space-x-3 transition-colors cursor-pointer ".concat(s===e.id?"bg-indigo-100 text-indigo-700 border border-indigo-200":"text-gray-600 hover:bg-gray-100"),children:[(0,a.jsx)("i",{className:"".concat(e.icon," text-lg")}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.id))})]}),(0,a.jsxs)("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:["general"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"General Settings"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Hours Start"}),(0,a.jsx)("input",{type:"time",value:e.workingHours.start,onChange:e=>l("workingHours.start",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Hours End"}),(0,a.jsx)("input",{type:"time",value:e.workingHours.end,onChange:e=>l("workingHours.end",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grace Time (minutes)"}),(0,a.jsx)("input",{type:"number",value:e.graceTime,onChange:e=>l("graceTime",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0",max:"60"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Time allowed for late arrivals before marking as late"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Camera Resolution"}),(0,a.jsxs)("select",{value:e.cameraResolution,onChange:e=>l("cameraResolution",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 pr-8",children:[(0,a.jsx)("option",{value:"480p",children:"480p"}),(0,a.jsx)("option",{value:"720p",children:"720p"}),(0,a.jsx)("option",{value:"1080p",children:"1080p"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Auto Capture Mode"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically capture faces when detected"})]}),(0,a.jsx)("button",{onClick:()=>l("autoCapture",!e.autoCapture),className:"relative inline-flex h-6 w-11 items-center rounded-full cursor-pointer ".concat(e.autoCapture?"bg-indigo-600":"bg-gray-200"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition ".concat(e.autoCapture?"translate-x-6":"translate-x-1")})})]})]})]}),"recognition"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Face Recognition Settings"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Recognition Threshold (",e.recognitionThreshold,"%)"]}),(0,a.jsx)("input",{type:"range",min:"70",max:"99",value:e.recognitionThreshold,onChange:e=>l("recognitionThreshold",parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"Less Strict (70%)"}),(0,a.jsx)("span",{children:"More Strict (99%)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Max Face Distance (",e.maxFaceDistance,")"]}),(0,a.jsx)("input",{type:"range",min:"0.3",max:"1.0",step:"0.1",value:e.maxFaceDistance,onChange:e=>l("maxFaceDistance",parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Maximum allowed distance for face comparison"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capture Interval (seconds)"}),(0,a.jsx)("input",{type:"number",value:e.captureInterval,onChange:e=>l("captureInterval",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"1",max:"60"})]}),(0,a.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Model Information"}),(0,a.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,a.jsx)("p",{children:"Model: FaceNet (128d)"}),(0,a.jsx)("p",{children:"Last Updated: January 15, 2024"}),(0,a.jsx)("p",{children:"Trained Faces: 50"}),(0,a.jsx)("p",{children:"Accuracy: 98.5%"})]})]})]})]}),"notifications"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notification Settings"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"System Notifications"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Show system alerts and updates"})]}),(0,a.jsx)("button",{onClick:()=>l("notifications",!e.notifications),className:"relative inline-flex h-6 w-11 items-center rounded-full cursor-pointer ".concat(e.notifications?"bg-indigo-600":"bg-gray-200"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition ".concat(e.notifications?"translate-x-6":"translate-x-1")})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Email Alerts"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Send email notifications for important events"})]}),(0,a.jsx)("button",{onClick:()=>l("emailAlerts",!e.emailAlerts),className:"relative inline-flex h-6 w-11 items-center rounded-full cursor-pointer ".concat(e.emailAlerts?"bg-indigo-600":"bg-gray-200"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition ".concat(e.emailAlerts?"translate-x-6":"translate-x-1")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Email Recipients"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("input",{type:"email",placeholder:"admin@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),(0,a.jsxs)("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 cursor-pointer whitespace-nowrap",children:[(0,a.jsx)("i",{className:"ri-add-line mr-1"}),"Add Recipient"]})]})]})]})]}),"security"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Settings"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium text-yellow-900 mb-2",children:[(0,a.jsx)("i",{className:"ri-shield-check-line mr-2"}),"Privacy Protection"]}),(0,a.jsx)("p",{className:"text-sm text-yellow-800",children:"All face data is encrypted and stored locally. No data is transmitted to external servers."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Retention Period (days)"}),(0,a.jsx)("input",{type:"number",value:e.dataRetention,onChange:e=>l("dataRetention",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"30",max:"1095"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Attendance records older than this will be automatically deleted"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Access Control"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)("span",{className:"text-gray-700",children:"Admin Access"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Active"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)("span",{className:"text-gray-700",children:"Manager Access"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Active"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)("span",{className:"text-gray-700",children:"Employee Access"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Read Only"})]})]})]})]})]}),"backup"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Backup & Recovery"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Database Status"}),(0,a.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,a.jsx)("p",{children:"Database Size: 125 MB"}),(0,a.jsx)("p",{children:"Last Backup: 2 hours ago"}),(0,a.jsx)("p",{children:"Total Records: 15,420"}),(0,a.jsx)("p",{children:"Face Encodings: 50 users"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{className:"p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer whitespace-nowrap text-left",children:[(0,a.jsx)("i",{className:"ri-download-cloud-line text-xl text-indigo-600 mb-2"}),(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Create Backup"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Export all attendance data"})]}),(0,a.jsxs)("button",{className:"p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer whitespace-nowrap text-left",children:[(0,a.jsx)("i",{className:"ri-upload-cloud-line text-xl text-green-600 mb-2"}),(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Restore Backup"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Import attendance data"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Automatic Backup"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"rounded",defaultChecked:!0}),(0,a.jsx)("label",{className:"text-gray-700",children:"Enable daily backups"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"rounded"}),(0,a.jsx)("label",{className:"text-gray-700",children:"Export to cloud storage"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"rounded",defaultChecked:!0}),(0,a.jsx)("label",{className:"text-gray-700",children:"Keep local backups for 30 days"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[(0,a.jsx)("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to default?")&&t({recognitionThreshold:90,autoCapture:!0,notifications:!0,emailAlerts:!1,workingHours:{start:"09:00",end:"18:00"},graceTime:15,maxFaceDistance:.6,cameraResolution:"720p",captureInterval:5,dataRetention:365})},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer whitespace-nowrap",children:"Reset to Default"}),(0,a.jsx)("button",{onClick:()=>{alert("Settings saved successfully!")},className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 cursor-pointer whitespace-nowrap",children:"Save Settings"})]})]})]})]})}function C(){let[e,t]=(0,r.useState)("dashboard");return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)(n.Z,{currentPage:e,setCurrentPage:t}),(0,a.jsx)("main",{className:"pt-16",children:(()=>{switch(e){case"dashboard":default:return(0,a.jsx)(f,{});case"enrollment":return(0,a.jsx)(k,{});case"capture":return(0,a.jsx)(S,{});case"reports":return(0,a.jsx)(I,{});case"settings":return(0,a.jsx)(A,{})}})()})]})}},1232:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(7437),r=s(2265);function n(e){let{currentPage:t,setCurrentPage:s}=e,[n,l]=(0,r.useState)(!1),i=[{id:"dashboard",label:"Dashboard",icon:"ri-dashboard-line"},{id:"enrollment",label:"Enrollment",icon:"ri-user-add-line"},{id:"capture",label:"Live Capture",icon:"ri-camera-line"},{id:"reports",label:"Reports",icon:"ri-file-chart-line"},{id:"settings",label:"Settings",icon:"ri-settings-line"}];return(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-900 shadow-xl border-b border-gray-800",children:(0,a.jsxs)("div",{className:"px-4 sm:px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:(0,a.jsx)("i",{className:"ri-eye-line text-white text-xl"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"AttendEye"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 hidden sm:block",children:"AI Face Recognition System"})]})]}),(0,a.jsx)("nav",{className:"hidden md:flex items-center space-x-1",children:i.map(e=>(0,a.jsxs)("button",{onClick:()=>s(e.id),className:"px-4 py-2 rounded-lg flex items-center space-x-2 transition-all duration-200 whitespace-nowrap cursor-pointer ".concat(t===e.id?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[(0,a.jsx)("i",{className:"".concat(e.icon," text-lg")}),(0,a.jsx)("span",{className:"font-medium hidden lg:block",children:e.label})]},e.id))}),(0,a.jsx)("button",{onClick:()=>l(!n),className:"md:hidden p-2 rounded-lg hover:bg-gray-800 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-menu-line text-xl text-gray-300"})})]}),n&&(0,a.jsx)("div",{className:"md:hidden mt-4 pb-4 border-t border-gray-800 pt-4",children:(0,a.jsx)("nav",{className:"flex flex-col space-y-2",children:i.map(e=>(0,a.jsxs)("button",{onClick:()=>{s(e.id),l(!1)},className:"px-4 py-3 rounded-lg flex items-center space-x-3 transition-all duration-200 cursor-pointer ".concat(t===e.id?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"".concat(e.icon," text-lg")}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.id))})})]})})}}},function(e){e.O(0,[623,971,938,744],function(){return e(e.s=8786)}),_N_E=e.O()}]);